<html>
  <head>
    
  </head>
  <body>
    <h1>Erro de conexão!</h1>
    <script>
  // --- Configuração ---
  // Sua chave de API do IPLogger.
  // ATENÇÃO: Esta chave será visível publicamente para qualquer um que inspecionar o código da página.
  const IPLOGGER_API_KEY = "api_7bmnHW68hMqQsBHl5JewVhDSBU7wi5yI";

  /**
   * Função para obter o endereço IP do visitante.
   * Usamos um serviço público de terceiros para isso, pois o JavaScript puro
   * não consegue acessar o IP real do cliente diretamente.
   */
  async function getVisitorIP() {
    try {
      // Usando o ipify como um exemplo de serviço para obter o IP.
      const response = await fetch('https://api.ipify.org?format=json');
      const data = await response.json();
      return data.ip;
    } catch (error) {
      console.error("Não foi possível obter o endereço IP do visitante:", error);
      return null;
    }
  }

  /**
   * Envia os dados do visitante para a API do IPLogger.
   */
  async function logVisitorToIPLogger() {
    const visitorIP = await getVisitorIP();
    if (!visitorIP) {
      console.error("Falha ao obter o IP. O log não será enviado.");
      return;
    }

    // Obtém o User-Agent do navegador do visitante
    const userAgent = navigator.userAgent;
    // Obtém a URL da página atual
    const pageUrl = window.location.href;

    // O endpoint da API pode variar. Este é um exemplo comum.
    const apiEndpoint = "https://iplogger.org/api/v1/log";

    const payload = {
      api_key: IPLOGGER_API_KEY,
      ip: visitorIP,
      user_agent: userAgent,
      url: pageUrl
    };

    try {
      const response = await fetch(apiEndpoint, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(payload)
      });

      if (!response.ok) {
        // Se a resposta não for bem-sucedida (ex: 4xx, 5xx)
        const errorText = await response.text();
        throw new Error(`Erro da API: ${response.status} - ${errorText}`);
      }

      const result = await response.json();
      console.log("Log enviado com sucesso para o IPLogger:", result);

    } catch (error) {
      console.error("Erro ao comunicar com a API do IPLogger:", error);
    }
  }

  // --- Execução do Script ---
  // Chama a função principal quando a página carregar.
  // O evento 'DOMContentLoaded' garante que o script execute após o HTML básico ter sido carregado.
  document.addEventListener('DOMContentLoaded', logVisitorToIPLogger);

</script>
  </body>
</html>
